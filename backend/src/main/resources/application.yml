spring:
  application:
    name: Cookstemma
  jpa:
    properties:
      hibernate:
        default_batch_fetch_size: 100

  profiles:
    active: dev

  jackson:
    date-format: "yyyy-MM-dd'T'HH:mm:ss'Z'"
    time-zone: UTC
    # Include all fields even if null
    default-property-inclusion: always
    # ISO-8601 형식을 사용하도록 설정
    serialization:
      write-dates-as-timestamps: false
    # 시간대가 없는 경우 기본적으로 UTC로 인식
    deserialization:
      adjust-dates-to-context-time-zone: false

  servlet:
    multipart:
      max-file-size: 10MB
      max-request-size: 10MB

  lifecycle:
    timeout-per-shutdown-phase: 30s

  security:
    oauth2:
      client:
        registration:
          google:
            client-id: ${GOOGLE_CLIENT_ID:446195380506-6p6sg5vfeurj51ld5r9cp9deuq0j0hjh.apps.googleusercontent.com}
server:
  port: 4001
  shutdown: graceful
  servlet:
    encoding:
      charset: UTF-8
      force: true

internal:
  api:
    key: ${INTERNAL_API_KEY:cookstemma-bot-default-key}

# Web authentication configuration
app:
  cookie:
    domain: ""
    secure: false
  rate-limit:
    enabled: true
    auth:
      requests-per-minute: 5
    reissue:
      requests-per-minute: 10

# Sentry error monitoring - disabled by default (no DSN)
# Set SENTRY_DSN environment variable to enable in production
sentry:
  dsn: ${SENTRY_DSN:}
  environment: ${SENTRY_ENVIRONMENT:${spring.profiles.active:dev}}
  release: ${SENTRY_RELEASE:}
  traces-sample-rate: ${SENTRY_TRACES_SAMPLE_RATE:0.0}
  # Tag to differentiate from Lambda (both share same Sentry project)
  tags:
    service: spring-boot
  # Filter out health check endpoints from performance monitoring
  ignored-urls-for-transaction:
    - "/actuator/health"
    - "/actuator/info"




